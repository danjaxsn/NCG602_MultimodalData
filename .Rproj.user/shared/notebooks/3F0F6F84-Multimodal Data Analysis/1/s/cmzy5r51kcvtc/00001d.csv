"0","#Now we have ECG tracing strips for 3 out of our 5 pages. "
"0","# Step 2: Get the current working directory (where your EKG images are stored)"
"0","ecg_directory <- getwd()"
"0",""
"0","# Step 2: Get the current working directory (where your EKG images are stored)"
"0","ecg_directory <- getwd()"
"0","print(paste(""Working Directory:"", ecg_directory))  # Debugging: Check the current directory"
"1","[1]"
"1"," ""Working Directory: C:/Users/dsmith55/OneDrive - University at Buffalo/Documents/GitHub/NCG602_MultimodalData"""
"1","
"
"0","# Step 3: Function to load EKG images based on id"
"0","load_ecg_image <- function(patient_id) {"
"0","  # Construct the file name (ECG1.jpg, ECG3.jpg, etc.)"
"0","  ecg_file <- file.path(ecg_directory, paste0(""ECG"", patient_id, "".jpg""))"
"0","  "
"0","  # Debugging: Print the constructed file path"
"0","  print(paste(""Looking for file:"", ecg_file))"
"0","  "
"0","  # Check if the file exists; if it does, return the image, otherwise return NA"
"0","  if (file.exists(ecg_file)) {"
"0","    return(image_read(ecg_file))"
"0","  } else {"
"0","    print(""File not found"")  # Debugging: Indicate that the file was not found"
"0","    return(NA)  # No EKG available for this patient"
"0","  }"
"0","}"
"0",""
"0","# Step 4: Apply the function to the 'id' column and store images in 'ECG_image'"
"0","final_data <- final_data %>%"
"0","  rowwise() %>%"
"0","  mutate(ECG_image = list(load_ecg_image(id)))  # Use list() to store images in a column"
"1","[1]"
"1"," ""Looking for file: C:/Users/dsmith55/OneDrive - University at Buffalo/Documents/GitHub/NCG602_MultimodalData/ECG1.jpg"""
"1","
"
"1","[1]"
"1"," ""Looking for file: C:/Users/dsmith55/OneDrive - University at Buffalo/Documents/GitHub/NCG602_MultimodalData/ECG2.jpg"""
"1","
"
"1","[1]"
"1"," ""File not found"""
"1","
"
"1","[1]"
"1"," ""Looking for file: C:/Users/dsmith55/OneDrive - University at Buffalo/Documents/GitHub/NCG602_MultimodalData/ECG3.jpg"""
"1","
"
"1","[1]"
"1"," ""Looking for file: C:/Users/dsmith55/OneDrive - University at Buffalo/Documents/GitHub/NCG602_MultimodalData/ECG4.jpg"""
"1","
"
"1","[1]"
"1"," ""File not found"""
"1","
"
"1","[1]"
"1"," ""Looking for file: C:/Users/dsmith55/OneDrive - University at Buffalo/Documents/GitHub/NCG602_MultimodalData/ECG5.jpg"""
"1","
"
"0","# Display the final dataframe"
"0","print(final_data)"
